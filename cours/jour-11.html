<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jour 11 - Scripts shell basiques</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Georgia', serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            text-align: center;
        }
        
        .header h1 {
            color: #2c3e50;
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
        }
        
        .header .subtitle {
            color: #7f8c8d;
            font-size: 1.2em;
            font-style: italic;
        }
        
        .content {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 40px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }
        
        .section {
            margin-bottom: 40px;
        }
        
        .section h2 {
            color: #2c3e50;
            font-size: 1.8em;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid #3498db;
            position: relative;
        }
        
        .section h2::before {
            content: '';
            position: absolute;
            left: 0;
            bottom: -3px;
            width: 50px;
            height: 3px;
            background: #e74c3c;
        }
        
        .section h3 {
            color: #34495e;
            font-size: 1.4em;
            margin: 25px 0 15px 0;
            padding-left: 20px;
            border-left: 4px solid #3498db;
        }
        
        .section p {
            margin-bottom: 15px;
            text-align: justify;
        }
        
        .definition {
            background: linear-gradient(135deg, #74b9ff, #0984e3);
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            box-shadow: 0 4px 15px rgba(116, 185, 255, 0.3);
        }
        
        .definition h4 {
            font-size: 1.2em;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
        }
        
        .definition h4::before {
            content: "üí°";
            margin-right: 10px;
            font-size: 1.3em;
        }
        
        .code-block {
            background: #2d3748;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            overflow-x: auto;
            border-left: 4px solid #4299e1;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }
        
        .code-block pre {
            margin: 0;
            white-space: pre-wrap;
        }
        
        .example {
            background: linear-gradient(135deg, #55a3ff, #003d82);
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            box-shadow: 0 4px 15px rgba(85, 163, 255, 0.3);
        }
        
        .example h4 {
            margin-bottom: 15px;
            display: flex;
            align-items: center;
        }
        
        .example h4::before {
            content: "üîç";
            margin-right: 10px;
            font-size: 1.3em;
        }
        
        .warning {
            background: linear-gradient(135deg, #ff7675, #d63031);
            color: white;
            padding: 15px;
            border-radius: 10px;
            margin: 20px 0;
            box-shadow: 0 4px 15px rgba(255, 118, 117, 0.3);
        }
        
        .warning::before {
            content: "‚ö†Ô∏è ";
            font-weight: bold;
        }
        
        .tip {
            background: linear-gradient(135deg, #00b894, #00a085);
            color: white;
            padding: 15px;
            border-radius: 10px;
            margin: 20px 0;
            box-shadow: 0 4px 15px rgba(0, 184, 148, 0.3);
        }
        
        .tip::before {
            content: "üí° ";
            font-weight: bold;
        }
        
        ul, ol {
            margin: 15px 0;
            padding-left: 30px;
        }
        
        li {
            margin-bottom: 8px;
        }
        
        .table-container {
            overflow-x: auto;
            margin: 20px 0;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }
        
        th, td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
        
        th {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            font-weight: bold;
        }
        
        tr:hover {
            background-color: #f5f5f5;
        }
        
        .footer {
            text-align: center;
            margin-top: 40px;
            padding: 20px;
            color: white;
            font-style: italic;
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .header h1 {
                font-size: 2em;
            }
            
            .content {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Jour 11 - Scripts Shell Basiques</h1>
            <p class="subtitle">Formation Administration Syst√®me Linux</p>
            <p class="subtitle">Responsable: Jean Tene</p>
        </div>
        
        <div class="content">
            <div class="section">
                <h2>Introduction aux Scripts Shell</h2>
                
                <div class="definition">
                    <h4>Qu'est-ce qu'un script shell ?</h4>
                    <p>Un script shell est un fichier texte contenant une s√©rie de commandes Linux qui peuvent √™tre ex√©cut√©es s√©quentiellement par l'interpr√©teur de commandes (shell). C'est un moyen puissant d'automatiser des t√¢ches r√©p√©titives et de cr√©er des programmes simples sous Linux.</p>
                </div>
                
                <p>Les scripts shell permettent de :</p>
                <ul>
                    <li>Automatiser des t√¢ches administratives r√©p√©titives</li>
                    <li>Cr√©er des outils personnalis√©s pour l'administration syst√®me</li>
                    <li>Encha√Æner plusieurs commandes complexes</li>
                    <li>Cr√©er des interfaces utilisateur simples en ligne de commande</li>
                    <li>Traiter des donn√©es et des fichiers de mani√®re automatis√©e</li>
                </ul>
            </div>
            
            <div class="section">
                <h2>Les diff√©rents types de shells</h2>
                
                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>Shell</th>
                                <th>Nom complet</th>
                                <th>Chemin</th>
                                <th>Caract√©ristiques</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>bash</td>
                                <td>Bourne Again Shell</td>
                                <td>/bin/bash</td>
                                <td>Shell par d√©faut sur la plupart des distributions Linux</td>
                            </tr>
                            <tr>
                                <td>sh</td>
                                <td>Bourne Shell</td>
                                <td>/bin/sh</td>
                                <td>Shell POSIX standard, plus basique</td>
                            </tr>
                            <tr>
                                <td>zsh</td>
                                <td>Z Shell</td>
                                <td>/bin/zsh</td>
                                <td>Shell avanc√© avec de nombreuses fonctionnalit√©s</td>
                            </tr>
                            <tr>
                                <td>csh</td>
                                <td>C Shell</td>
                                <td>/bin/csh</td>
                                <td>Syntaxe similaire au langage C</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            
            <div class="section">
                <h2>Structure d'un script shell</h2>
                
                <h3>Le shebang (#!)</h3>
                <p>Chaque script shell doit commencer par une ligne appel√©e "shebang" qui indique quel interpr√©teur utiliser pour ex√©cuter le script.</p>
                
                <div class="code-block">
                    <pre>#!/bin/bash
# Ceci est un commentaire
# Le script commence ici

echo "Bonjour, monde !"</pre>
                </div>
                
                <div class="tip">
                    Le shebang doit toujours √™tre la premi√®re ligne du fichier, sans espace avant le #. Les caract√®res #! indiquent au syst√®me quel interpr√©teur utiliser.
                </div>
                
                <h3>Les commentaires</h3>
                <p>Les commentaires commencent par le caract√®re # et s'√©tendent jusqu'√† la fin de la ligne. Ils sont essentiels pour documenter votre code.</p>
                
                <div class="code-block">
                    <pre># Ceci est un commentaire sur une ligne compl√®te
echo "Hello" # Ceci est un commentaire en fin de ligne</pre>
                </div>
            </div>
            
            <div class="section">
                <h2>Cr√©ation et ex√©cution d'un premier script</h2>
                
                <h3>√âtape 1 : Cr√©er le fichier</h3>
                <div class="code-block">
                    <pre>nano mon_premier_script.sh</pre>
                </div>
                
                <h3>√âtape 2 : √âcrire le contenu</h3>
                <div class="code-block">
                    <pre>#!/bin/bash
# Mon premier script shell
# Auteur: [Votre nom]
# Date: $(date)

echo "==================================="
echo "    MON PREMIER SCRIPT SHELL"
echo "==================================="
echo "Bonjour ! Bienvenue dans le monde des scripts shell."
echo "Date et heure actuelles : $(date)"
echo "Utilisateur connect√© : $(whoami)"
echo "R√©pertoire courant : $(pwd)"
echo "==================================="</pre>
                </div>
                
                <h3>√âtape 3 : Rendre le script ex√©cutable</h3>
                <div class="code-block">
                    <pre>chmod +x mon_premier_script.sh</pre>
                </div>
                
                <h3>√âtape 4 : Ex√©cuter le script</h3>
                <div class="code-block">
                    <pre># M√©thode 1 : Ex√©cution directe
./mon_premier_script.sh

# M√©thode 2 : Avec l'interpr√©teur
bash mon_premier_script.sh

# M√©thode 3 : Avec le chemin absolu
/chemin/vers/mon_premier_script.sh</pre>
                </div>
            </div>
            
            <div class="section">
                <h2>Commandes de base dans les scripts</h2>
                
                <h3>La commande echo</h3>
                <p>La commande echo permet d'afficher du texte √† l'√©cran.</p>
                
                <div class="code-block">
                    <pre>echo "Texte simple"
echo -n "Texte sans retour √† la ligne"
echo -e "Texte avec\ttabulation et\nnouvelle ligne"</pre>
                </div>
                
                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>Option</th>
                                <th>Description</th>
                                <th>Exemple</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>-n</td>
                                <td>Pas de retour √† la ligne</td>
                                <td>echo -n "Texte"</td>
                            </tr>
                            <tr>
                                <td>-e</td>
                                <td>Interpr√®te les s√©quences d'√©chappement</td>
                                <td>echo -e "Ligne1\nLigne2"</td>
                            </tr>
                            <tr>
                                <td>-E</td>
                                <td>N'interpr√®te pas les s√©quences (par d√©faut)</td>
                                <td>echo -E "Texte\n"</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                
                <h3>La commande read</h3>
                <p>La commande read permet de lire une saisie utilisateur.</p>
                
                <div class="example">
                    <h4>Exemple interactif</h4>
                    <div class="code-block">
                        <pre>#!/bin/bash
echo "Comment vous appelez-vous ?"
read nom
echo "Bonjour $nom, ravi de vous rencontrer !"

# Lecture avec prompt
read -p "Entrez votre √¢ge: " age
echo "Vous avez $age ans."

# Lecture silencieuse (pour les mots de passe)
read -s -p "Entrez votre mot de passe: " mdp
echo
echo "Mot de passe saisi (masqu√©)"</pre>
                    </div>
                </div>
            </div>
            
            <div class="section">
                <h2>Substitution de commandes</h2>
                
                <p>La substitution de commandes permet d'utiliser la sortie d'une commande comme valeur dans un script.</p>
                
                <h3>Syntaxe avec $(...)</h3>
                <div class="code-block">
                    <pre>#!/bin/bash
# Exemples de substitution de commandes

# Stocker la date dans une variable
date_actuelle=$(date)
echo "Nous sommes le : $date_actuelle"

# Compter les fichiers dans le r√©pertoire courant
nb_fichiers=$(ls -1 | wc -l)
echo "Ce r√©pertoire contient $nb_fichiers √©l√©ments"

# Obtenir l'espace disque libre
espace_libre=$(df -h / | tail -1 | awk '{print $4}')
echo "Espace libre sur / : $espace_libre"</pre>
                </div>
                
                <h3>Syntaxe avec backticks (ancienne m√©thode)</h3>
                <div class="code-block">
                    <pre># Ancienne syntaxe (toujours valide mais moins recommand√©e)
date_actuelle=`date`
echo "Date: $date_actuelle"</pre>
                </div>
                
                <div class="warning">
                    Pr√©f√©rez toujours la syntaxe $(...) aux backticks car elle est plus lisible et permet l'imbrication plus facilement.
                </div>
            </div>
            
            <div class="section">
                <h2>Scripts utiles pour l'administration</h2>
                
                <h3>Script d'informations syst√®me</h3>
                <div class="example">
                    <h4>Script : info_systeme.sh</h4>
                    <div class="code-block">
                        <pre>#!/bin/bash
# Script d'informations syst√®me
# Affiche des informations essentielles sur le syst√®me

clear
echo "========================================"
echo "     INFORMATIONS SYST√àME"
echo "========================================"
echo

echo "üñ•Ô∏è  Syst√®me d'exploitation:"
cat /etc/os-release | grep PRETTY_NAME | cut -d'"' -f2
echo

echo "üïê Date et heure:"
date
echo

echo "‚è±Ô∏è  Uptime:"
uptime
echo

echo "üíæ Utilisation m√©moire:"
free -h
echo

echo "üíø Espace disque:"
df -h
echo

echo "üë§ Utilisateurs connect√©s:"
who
echo

echo "üîÑ Processus les plus gourmands:"
ps aux --sort=-%cpu | head -6
echo

echo "========================================"</pre>
                    </div>
                </div>
                
                <h3>Script de sauvegarde simple</h3>
                <div class="example">
                    <h4>Script : sauvegarde.sh</h4>
                    <div class="code-block">
                        <pre>#!/bin/bash
# Script de sauvegarde simple
# Sauvegarde un r√©pertoire avec horodatage

# Configuration
REPERTOIRE_SOURCE="/home/user/documents"
REPERTOIRE_DEST="/backup"
DATE=$(date +%Y%m%d_%H%M%S)

echo "=== SCRIPT DE SAUVEGARDE ==="
echo "Source: $REPERTOIRE_SOURCE"
echo "Destination: $REPERTOIRE_DEST"
echo "Horodatage: $DATE"
echo

# V√©rification de l'existence du r√©pertoire source
if [ ! -d "$REPERTOIRE_SOURCE" ]; then
    echo "‚ùå Erreur: Le r√©pertoire source n'existe pas!"
    exit 1
fi

# Cr√©ation du r√©pertoire de destination si n√©cessaire
mkdir -p "$REPERTOIRE_DEST"

# Cr√©ation de l'archive
echo "üì¶ Cr√©ation de l'archive en cours..."
tar -czf "$REPERTOIRE_DEST/sauvegarde_$DATE.tar.gz" -C "$(dirname $REPERTOIRE_SOURCE)" "$(basename $REPERTOIRE_SOURCE)"

if [ $? -eq 0 ]; then
    echo "‚úÖ Sauvegarde termin√©e avec succ√®s!"
    echo "üìÅ Archive cr√©√©e: $REPERTOIRE_DEST/sauvegarde_$DATE.tar.gz"
else
    echo "‚ùå Erreur lors de la sauvegarde!"
    exit 1
fi</pre>
                    </div>
                </div>
            </div>
            
            <div class="section">
                <h2>Bonnes pratiques</h2>
                
                <h3>Structure et organisation</h3>
                <ul>
                    <li><strong>Commentaires:</strong> Documentez votre code avec des commentaires clairs</li>
                    <li><strong>Indentation:</strong> Utilisez une indentation coh√©rente (2 ou 4 espaces)</li>
                    <li><strong>Noms de variables:</strong> Utilisez des noms descriptifs et en majuscules pour les constantes</li>
                    <li><strong>Fonction unique:</strong> Un script doit avoir un objectif pr√©cis et bien d√©fini</li>
                </ul>
                
                <h3>S√©curit√©</h3>
                <ul>
                    <li>V√©rifiez toujours les entr√©es utilisateur</li>
                    <li>Utilisez des chemins absolus pour les commandes critiques</li>
                    <li>G√©rez les erreurs et les cas d'exception</li>
                    <li>Limitez les permissions du script au minimum n√©cessaire</li>
                </ul>
                
                <h3>D√©bogage</h3>
                <div class="code-block">
                    <pre># Ex√©cution en mode d√©bogage
bash -x mon_script.sh

# Activation du mode d√©bogage dans le script
set -x  # Active le d√©bogage
set +x  # D√©sactive le d√©bogage</pre>
                </div>
                
                <div class="tip">
                    Utilisez "set -e" au d√©but de vos scripts pour qu'ils s'arr√™tent automatiquement en cas d'erreur.
                </div>
            </div>
            
            <div class="section">
                <h2>Exercices pratiques</h2>
                
                <h3>Exercice 1 : Script de bienvenue</h3>
                <p>Cr√©ez un script qui :</p>
                <ul>
                    <li>Demande le nom de l'utilisateur</li>
                    <li>Affiche un message de bienvenue personnalis√©</li>
                    <li>Affiche la date et l'heure actuelles</li>
                    <li>Affiche le nombre de fichiers dans le r√©pertoire courant</li>
                </ul>
                
                <h3>Exercice 2 : Script d'informations r√©seau</h3>
                <p>Cr√©ez un script qui affiche :</p>
                <ul>
                    <li>L'adresse IP de la machine</li>
                    <li>La passerelle par d√©faut</li>
                    <li>Les serveurs DNS configur√©s</li>
                    <li>Les interfaces r√©seau actives</li>
                </ul>
                
                <h3>Exercice 3 : Script de nettoyage</h3>
                <p>Cr√©ez un script qui :</p>
                <ul>
                    <li>Supprime les fichiers temporaires (.tmp, .bak)</li>
                    <li>Vide la corbeille</li>
                    <li>Affiche l'espace lib√©r√©</li>
                    <li>Demande confirmation avant chaque action</li>
                </ul>
            </div>
            
            <div class="section">
                <h2>Ressources et outils</h2>
                
                <h3>√âditeurs recommand√©s</h3>
                <ul>
                    <li><strong>nano:</strong> Simple et intuitif pour d√©buter</li>
                    <li><strong>vim:</strong> Puissant mais courbe d'apprentissage plus √©lev√©e</li>
                    <li><strong>emacs:</strong> Tr√®s complet avec de nombreuses fonctionnalit√©s</li>
                    <li><strong>VS Code:</strong> Moderne avec support des extensions</li>
                </ul>
                
                <h3>Outils de validation</h3>
                <div class="code-block">
                    <pre># Installation de shellcheck (validateur de scripts)
sudo apt install shellcheck

# Validation d'un script
shellcheck mon_script.sh</pre>
                </div>
                
                <h3>Commandes utiles pour le d√©veloppement</h3>
                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>Commande</th>
                                <th>Description</th>
                                <th>Exemple</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>which</td>
                                <td>Trouve le chemin d'une commande</td>
                                <td>which bash</td>
                            </tr>
                            <tr>
                                <td>type</td>
                                <td>Affiche le type d'une commande</td>
                                <td>type echo</td>
                            </tr>
                            <tr>
                                <td>file</td>
                                <td>D√©termine le type d'un fichier</td>
                                <td>file script.sh</td>
                            </tr>
                            <tr>
                                <td>head/tail</td>
                                <td>Affiche le d√©but/fin d'un fichier</td>
                                <td>head -5 script.sh</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        
        <div class="footer">
            <p>Formation Administration Syst√®me Linux - Jour 11 - Scripts shell basiques</p>
            <p>Responsable: Jean Tene | ¬© 2025</p>
        </div>
    </div>
</body>
</html>